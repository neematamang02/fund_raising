# ğŸ“§ Email Notification Flow Diagram

## Complete Organizer Application Email Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER APPLIES AS ORGANIZER                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  1. Fill Basic Information    â”‚
                    â”‚     - Organization Name       â”‚
                    â”‚     - Description             â”‚
                    â”‚     - Contact Details         â”‚
                    â”‚     - Organization Type       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  2. Upload Documents          â”‚
                    â”‚     - Government ID âœ“         â”‚
                    â”‚     - Selfie with ID âœ“        â”‚
                    â”‚     - Registration Cert       â”‚
                    â”‚     - Tax ID                  â”‚
                    â”‚     - Address Proof           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Status: DRAFT â†’ PENDING                          â”‚
        â”‚  ğŸ“§ EMAIL #1: "Application Submitted"             â”‚
        â”‚  âœ‰ï¸  To: User Email                               â”‚
        â”‚  ğŸ“‹ Contains:                                      â”‚
        â”‚     - Confirmation message                        â”‚
        â”‚     - Application details                         â”‚
        â”‚     - Review timeline (2-3 days)                  â”‚
        â”‚     - What happens next                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           ADMIN REVIEWS APPLICATION                â”‚
        â”‚  - Views in Admin Dashboard                       â”‚
        â”‚  - Reviews documents                              â”‚
        â”‚  - Checks organization details                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                       â”‚
                â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ADMIN APPROVES    â”‚   â”‚   ADMIN REJECTS     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                          â”‚
               â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Status: APPROVED         â”‚   â”‚ Status: REJECTED         â”‚
â”‚ User Role: ORGANIZER     â”‚   â”‚ User Role: DONOR         â”‚
â”‚                          â”‚   â”‚                          â”‚
â”‚ ğŸ“§ EMAIL #2:             â”‚   â”‚ ğŸ“§ EMAIL #3:             â”‚
â”‚ "Application Approved"   â”‚   â”‚ "Application Rejected"   â”‚
â”‚                          â”‚   â”‚                          â”‚
â”‚ âœ‰ï¸  To: User Email       â”‚   â”‚ âœ‰ï¸  To: User Email       â”‚
â”‚ ğŸ“‹ Contains:             â”‚   â”‚ ğŸ“‹ Contains:             â”‚
â”‚  - Congratulations! ğŸ‰   â”‚   â”‚  - Rejection notice      â”‚
â”‚  - New capabilities      â”‚   â”‚  - Detailed reason       â”‚
â”‚  - Getting started tips  â”‚   â”‚  - How to improve        â”‚
â”‚  - Create campaign link  â”‚   â”‚  - Reapply option        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                              â”‚
           â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER CAN NOW:            â”‚   â”‚ USER CAN:                â”‚
â”‚  âœ“ Create campaigns      â”‚   â”‚  âœ“ Review feedback       â”‚
â”‚  âœ“ Receive donations     â”‚   â”‚  âœ“ Improve application   â”‚
â”‚  âœ“ Manage campaigns      â”‚   â”‚  âœ“ Reapply later         â”‚
â”‚  âœ“ Track progress        â”‚   â”‚  âœ“ Contact support       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ (Later, if needed)
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ADMIN REVOKES          â”‚
â”‚   ORGANIZER STATUS       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Status: REVOKED          â”‚
â”‚ User Role: DONOR         â”‚
â”‚                          â”‚
â”‚ ğŸ“§ EMAIL #4:             â”‚
â”‚ "Organizer Revoked"      â”‚
â”‚                          â”‚
â”‚ âœ‰ï¸  To: User Email       â”‚
â”‚ ğŸ“‹ Contains:             â”‚
â”‚  - Revocation notice âš ï¸  â”‚
â”‚  - Reason for revocation â”‚
â”‚  - Impact on account     â”‚
â”‚  - Appeal process        â”‚
â”‚  - Contact support link  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER REVERTED TO DONOR   â”‚
â”‚  - Cannot create         â”‚
â”‚  - Cannot receive        â”‚
â”‚  - Can still donate      â”‚
â”‚  - Can appeal decision   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Email Types Summary

### ğŸ“§ Email #1: Application Submitted
**Trigger:** User uploads documents and submits application  
**Status Change:** DRAFT â†’ PENDING  
**Color Theme:** ğŸŸ£ Purple  
**Purpose:** Confirm receipt and set expectations  
**Key Info:** Timeline, next steps, application ID  

### ğŸ“§ Email #2: Application Approved
**Trigger:** Admin approves application  
**Status Change:** PENDING â†’ APPROVED  
**Role Change:** DONOR â†’ ORGANIZER  
**Color Theme:** ğŸŸ¢ Green  
**Purpose:** Celebrate and onboard  
**Key Info:** New capabilities, getting started tips, CTA  

### ğŸ“§ Email #3: Application Rejected
**Trigger:** Admin rejects application  
**Status Change:** PENDING â†’ REJECTED  
**Role:** Remains DONOR  
**Color Theme:** ğŸ”´ Red  
**Purpose:** Explain and encourage improvement  
**Key Info:** Rejection reason, improvement steps, reapply option  

### ğŸ“§ Email #4: Organizer Revoked
**Trigger:** Admin revokes organizer privileges  
**Status Change:** APPROVED â†’ REVOKED  
**Role Change:** ORGANIZER â†’ DONOR  
**Color Theme:** ğŸŸ  Orange  
**Purpose:** Notify and explain consequences  
**Key Info:** Revocation reason, impact, appeal process  

## Technical Flow

```javascript
// 1. Application Submission
POST /api/organizer/upload-documents/:id
  â†“
Status: draft â†’ pending
  â†“
sendApplicationSubmittedEmail(user, application)
  â†“
Email sent to user

// 2. Admin Approval
PATCH /api/admin/applications/:id/approve
  â†“
Status: pending â†’ approved
Role: donor â†’ organizer
  â†“
sendApplicationApprovedEmail(user, application)
  â†“
Email sent to user

// 3. Admin Rejection
PATCH /api/admin/applications/:id/reject
  â†“
Status: pending â†’ rejected
  â†“
sendApplicationRejectedEmail(user, application, reason)
  â†“
Email sent to user

// 4. Admin Revocation
PATCH /api/admin/applications/:id/revoke
  â†“
Status: approved â†’ revoked
Role: organizer â†’ donor
  â†“
sendOrganizerRevokedEmail(user, application, reason)
  â†“
Email sent to user
```

## Error Handling Flow

```
Email Function Called
        â”‚
        â–¼
    Try Send
        â”‚
    â”Œâ”€â”€â”€â”´â”€â”€â”€â”
    â”‚       â”‚
    â–¼       â–¼
Success   Failure
    â”‚       â”‚
    â”‚       â–¼
    â”‚   Log Error
    â”‚       â”‚
    â”‚       â–¼
    â”‚   Continue
    â”‚   (Don't break app)
    â”‚       â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚
        â–¼
    Return to Route
```

## Database State Changes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OrganizerApplication                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  DRAFT (Initial)                                         â”‚
â”‚    â†“ (Upload documents)                                  â”‚
â”‚  PENDING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚                                                  â”‚   â”‚
â”‚    â”œâ”€â†’ APPROVED (Admin approves)                     â”‚   â”‚
â”‚    â”‚     â””â”€â†’ REVOKED (Admin revokes later)           â”‚   â”‚
â”‚    â”‚                                                  â”‚   â”‚
â”‚    â””â”€â†’ REJECTED (Admin rejects) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚          â””â”€â†’ Can create new application (DRAFT)          â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         User                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  role: "donor" (Initial)                                 â”‚
â”‚    â†“ (Application approved)                              â”‚
â”‚  role: "organizer"                                       â”‚
â”‚    â†“ (Organizer revoked)                                 â”‚
â”‚  role: "donor"                                           â”‚
â”‚                                                          â”‚
â”‚  isOrganizerApproved: false â†’ true â†’ false              â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Email Content Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           HEADER (Gradient)              â”‚
â”‚              ğŸ‰ Title                    â”‚
â”‚            Subtitle Text                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                          â”‚
â”‚  Dear [User Name],                       â”‚
â”‚                                          â”‚
â”‚  Main message paragraph...               â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     INFO BOX (Highlighted)         â”‚ â”‚
â”‚  â”‚  - Key information                 â”‚ â”‚
â”‚  â”‚  - Important details               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     TIMELINE / FEATURES            â”‚ â”‚
â”‚  â”‚  Step 1: ...                       â”‚ â”‚
â”‚  â”‚  Step 2: ...                       â”‚ â”‚
â”‚  â”‚  Step 3: ...                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     CALL TO ACTION BUTTON          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  Closing message...                      â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            FOOTER                        â”‚
â”‚  Automated message disclaimer            â”‚
â”‚  Â© 2026 Fundraising Platform             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Monitoring & Logging

```
Console Output:

âœ… Application submitted email sent to user@example.com
âœ… Application approved email sent to user@example.com
âœ… Application rejected email sent to user@example.com
âœ… Organizer revoked email sent to user@example.com

OR

âŒ Error sending application submitted email: [error details]
```

## Integration Points

| Route | Method | Email Triggered | Status Change |
|-------|--------|----------------|---------------|
| `/api/organizer/upload-documents/:id` | POST | Application Submitted | draft â†’ pending |
| `/api/admin/applications/:id/approve` | PATCH | Application Approved | pending â†’ approved |
| `/api/admin/applications/:id/reject` | PATCH | Application Rejected | pending â†’ rejected |
| `/api/admin/applications/:id/revoke` | PATCH | Organizer Revoked | approved â†’ revoked |

---

**Legend:**
- ğŸ“§ = Email notification sent
- âœ“ = Required field
- âœ‰ï¸ = Email recipient
- ğŸ“‹ = Email content
- ğŸ‰ = Positive action
- âš ï¸ = Warning/Alert
- ğŸŸ£ Purple = Submission
- ğŸŸ¢ Green = Approval
- ğŸ”´ Red = Rejection
- ğŸŸ  Orange = Revocation
